# Story P11-5.4: Add Export Events to CSV Button

## Status: DONE

## Story
**As a** user viewing my events timeline
**I want** to export filtered events to CSV
**So that** I can analyze my event data in spreadsheets or other tools

## Acceptance Criteria
- [x] Export button visible on Events page when events exist
- [x] Export uses current filters (date range, camera)
- [x] CSV downloads with appropriate filename
- [x] Loading state shown during export
- [x] Error handling with toast notifications

## Implementation Notes

### Frontend Changes
1. **lib/api-client.ts** - Added `events.exportCsv()` method that:
   - Calls `/api/v1/events/export?format=csv` with optional filters
   - Returns a Blob for file download
   - Uses existing auth headers

2. **app/events/page.tsx** - Added Export button:
   - Download icon from lucide-react
   - Shows loading spinner during export
   - Creates temporary download link for CSV
   - Uses current date range and camera filters
   - Toast notifications for success/failure

### Backend (Already Existed)
The `/api/v1/events/export` endpoint was already implemented in Phase 3, supporting:
- CSV format
- Date range filters (start_date, end_date)
- Camera filter (camera_id)
- Streaming response for large exports

## Technical Details
- Button appears next to Refresh button
- Disabled during export with spinner
- Filename format: `events-YYYY-MM-DD.csv`
- Respects authentication via `getAuthHeaders()`

## Dependencies
- lucide-react (Download icon)
- sonner (toast notifications)
